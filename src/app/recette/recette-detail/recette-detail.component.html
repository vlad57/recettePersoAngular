<app-nav-bar></app-nav-bar>


<div class="container" style="display: flex; justify-content: flex-end; margin-top: 20px;">
  <button class="btn btn-info" style="" (click)="addIngredient()">Ajouter un ingrédient + </button>
</div>

<div class="container" style="margin-top: 15px;">

  <div>
    <form [formGroup]="recette">

      <div class="row" style="margin-top: 10px;">
        <div class="col-md-6">
          <div class="form-group">
            <label for="recetteName">Nom de la recette</label>
            <input id="recetteName" class="form-control" formControlName="recetteName"/>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8">
          <div class="form-group">
            <label for="recetteDescription">Description de la recette</label>
            <textarea id="recetteDescription" class="form-control" formControlName="recetteDescription"></textarea>
          </div>
        </div>
      </div>

      <ng-container formArrayName="ingredient">
        <div *ngFor="let _ of ingredients.controls; index as i">
          <ng-container [formGroupName]="i">
            <div class="row">
              <div class="col-md-3">
                <div class="form-group">
                  <label for="nameIngredient">Ingrédient</label>
                  <input id="nameIngredient" class="form-control" formControlName="name" />
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label for="quantiteIngredient">Quantité</label>
                  <input type="number" id="quantiteIngredient" class="form-control" formControlName="quantite" />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="uniteIngredient">Unité</label>
                  <div class="row">
                    <div class="col-md-9">

                      <select id="uniteIngredient" class="form-control" formControlName="unite">
                        <option value="cl">cl</option>
                        <option value="g">g</option>
                        <option value="piece">pièce</option>
                      </select>

                    </div>
                    <div class="col-md-3">
                      <a class="btn btn-danger" (click)="deleteIngredient(i)">Supprimer</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </ng-container>

      <button type="submit" class="btn btn-primary" (click)="onSubmit()">Valider</button>
    </form>
  </div>


</div>

